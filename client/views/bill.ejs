<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title><%= locals.title %></title>
    </head>

    <body>
        <div class="p-1">
            <h3 class="fw-bold text-center">Verification result</h3>
        </div>

        <% if (bill) { %>
        <p>
            <%= locals.description %>
            <b class="text-danger"> <%= bill.billId %> </b>
        </p>

        <h5 class="fw-bolder text-primary">Owner</h5>

        <p class="px-2">
            <b>First Name:</b>
            <%= bill.user.firstName %>
        </p>
        <p class="px-2">
            <b>Middle Name:</b>
            <%= bill.user.middleName || "N/A" %>
        </p>
        <p class="px-2">
            <b>Last Name:</b>
            <%= bill.user.lastName %>
        </p>

        <p class="px-2">
            <b>Phone Number:</b>
            <%= bill.user.phoneNumber %>
        </p>
        <p class="px-2">
            <b>Address:</b>
            <%= bill.user.address.city %>, <%= bill.user.address.province %>
        </p>

        <h5 class="fw-bolder text-primary">Item</h5>
        <p class="px-2">
            <b>Item Name:</b>
            <%= bill.item.itemName %>
        </p>
        <p class="px-2">
            <b>Quantity:</b>
            <%= bill.item.quantity.tola %> tola <%= bill.item.quantity.aana %>
            aana
        </p>
        <p class="px-2"><b>Rate:</b> NRS. <%= bill.item.rate %></p>
        <p class="px-2">
            <b>Total Before Tax:</b> NRS. <%= bill.item.totalBeforeTax %>
        </p>
        <p class="px-2"><b>Tax:</b> NRS. <%= bill.item.tax %></p>
        <p class="px-2">
            <b>Total After Tax:</b> NRS. <%= bill.item.totalAfterTax %>
        </p>
        <p class="px-2">
            <b>Purchased Date:</b>
            <% const purchasedDate=new Date(bill.item.purchasedDate); const
            formattedPurchasedDate=purchasedDate.toLocaleDateString('en-US', {
            weekday: 'long' , month:'long', day:'numeric', year:'numeric' }) %>
            <%= formattedPurchasedDate%>
        </p>
        <p class="px-2">
            <b>Vouched Date:</b>
            <% const vouchedDate=new Date(bill.item.vouchedDate); const
            formattedVouchedDate=vouchedDate.toLocaleDateString('en-US', {
            weekday: 'long' , month: 'long' , day: 'numeric' , year: 'numeric'
            }); %> <%= formattedVouchedDate %>
        </p>

        <% } else { %>
        <p class="text-danger text-center">
            No bill found for the bill id
            <b class="text-dark">"<%= registrationId %>"</b>.
        </p>
        <% } %>
    </body>
</html>
